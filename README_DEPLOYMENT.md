# Deployment Documentation

## ğŸ“š Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ Ñ€Ğ°Ğ·Ğ²ĞµÑ€Ñ‚Ñ‹Ğ²Ğ°Ğ½Ğ¸Ñ

Ğ’Ğ°ÑˆĞµ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ Ñ‚ĞµĞ¿ĞµÑ€ÑŒ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½ÑƒÑ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ñƒ **Frontend â†’ Backend â†’ Supabase** Ğ¸ Ğ³Ğ¾Ñ‚Ğ¾Ğ²Ğ¾ Ğº Ğ´ĞµĞ¿Ğ»Ğ¾Ñ Ğ½Ğ° Vercel.

## ğŸš€ Ğ‘Ñ‹ÑÑ‚Ñ€Ñ‹Ğ¹ ÑÑ‚Ğ°Ñ€Ñ‚

**ĞÑƒĞ¶Ğ½Ğ¾ ÑÑ€Ğ¾Ñ‡Ğ½Ğ¾ Ğ¸ÑĞ¿Ñ€Ğ°Ğ²Ğ¸Ñ‚ÑŒ production?**
â†’ Ğ§Ğ¸Ñ‚Ğ°Ğ¹Ñ‚Ğµ [`VERCEL_QUICK_FIX.md`](./VERCEL_QUICK_FIX.md)

**ĞŸĞµÑ€Ğ²Ñ‹Ğ¹ Ñ€Ğ°Ğ· Ğ´ĞµĞ¿Ğ»Ğ¾Ğ¸Ñ‚Ğµ?**
â†’ Ğ§Ğ¸Ñ‚Ğ°Ğ¹Ñ‚Ğµ [`VERCEL_SETUP.md`](./VERCEL_SETUP.md)

## ğŸ“– Ğ”Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ğ°Ñ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ

### Deployment & Configuration

1. **[VERCEL_QUICK_FIX.md](./VERCEL_QUICK_FIX.md)** âš¡
   - Ğ‘Ñ‹ÑÑ‚Ñ€Ğ¾Ğµ Ğ¸ÑĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ·Ğ° 3 ÑˆĞ°Ğ³Ğ°
   - ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ° environment variables
   - ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ğ¸
   - **Ğ§Ğ¸Ñ‚Ğ°Ğ¹Ñ‚Ğµ Ğ¿ĞµÑ€Ğ²Ñ‹Ğ¼, ĞµÑĞ»Ğ¸ Ñ‡Ñ‚Ğ¾-Ñ‚Ğ¾ ÑĞ»Ğ¾Ğ¼Ğ°Ğ»Ğ¾ÑÑŒ**

2. **[VERCEL_SETUP.md](./VERCEL_SETUP.md)** ğŸ“‹
   - ĞŸĞ¾Ğ»Ğ½Ğ°Ñ Ğ¸Ğ½ÑÑ‚Ñ€ÑƒĞºÑ†Ğ¸Ñ Ğ¿Ğ¾ deployment Ğ½Ğ° Vercel
   - ĞŸĞ¾ÑˆĞ°Ğ³Ğ¾Ğ²Ğ°Ñ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ° backend Ğ¸ frontend
   - Ğ’ÑĞµ environment variables Ñ Ğ¾Ğ±ÑŠÑÑĞ½ĞµĞ½Ğ¸ÑĞ¼Ğ¸
   - Troubleshooting Ğ´Ğ»Ñ ĞºĞ°Ğ¶Ğ´Ğ¾Ğ¹ Ğ¿Ñ€Ğ¾Ğ±Ğ»ĞµĞ¼Ñ‹

3. **[PRODUCTION_CHECKLIST.md](./PRODUCTION_CHECKLIST.md)** âœ…
   - Ğ§ĞµĞºĞ»Ğ¸ÑÑ‚ Ğ´Ğ»Ñ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞ¸ deployment
   - Ğ¢ĞµÑÑ‚Ñ‹ Ğ´Ğ»Ñ ĞºĞ°Ğ¶Ğ´Ğ¾Ğ³Ğ¾ ÑÑ‚Ğ°Ğ¿Ğ°
   - Verification script
   - Ğ§Ñ‚Ğ¾ Ğ´ĞµĞ»Ğ°Ñ‚ÑŒ ĞµÑĞ»Ğ¸ Ñ‡Ñ‚Ğ¾-Ñ‚Ğ¾ Ğ½Ğµ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚

### Architecture & Changes

4. **[FIXED_ARCHITECTURE.md](./FIXED_ARCHITECTURE.md)** ğŸ—ï¸
   - Ğ§Ñ‚Ğ¾ Ğ±Ñ‹Ğ»Ğ¾ Ğ¸ÑĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¾
   - Ğ”Ğ¾ Ğ¸ Ğ¿Ğ¾ÑĞ»Ğµ
   - Ğ¢ĞµÑ…Ğ½Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ Ğ´ĞµÑ‚Ğ°Ğ»Ğ¸ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğ¹
   - ĞšĞ°Ğº Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚ Ğ½Ğ¾Ğ²Ğ°Ñ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°

5. **[ARCHITECTURE_CHANGES.md](./ARCHITECTURE_CHANGES.md)** ğŸ“
   - ĞŸĞ¾Ğ»Ğ½Ğ¾Ğµ Ğ¾Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ñ‹
   - Ğ’ÑĞµ API endpoints
   - Security implementation
   - Migration guide

6. **[DEPLOYMENT_GUIDE.md](./DEPLOYMENT_GUIDE.md)** ğŸ“˜
   - Ğ”ĞµÑ‚Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ³Ğ°Ğ¹Ğ´ Ğ¿Ğ¾ deployment
   - Local development setup
   - Production deployment
   - Testing procedures

### Development

7. **[QUICK_START.md](./QUICK_START.md)** ğŸƒ
   - Ğ‘Ñ‹ÑÑ‚Ñ€Ñ‹Ğ¹ ÑÑ‚Ğ°Ñ€Ñ‚ Ğ´Ğ»Ñ Ğ»Ğ¾ĞºĞ°Ğ»ÑŒĞ½Ğ¾Ğ¹ Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ¸
   - ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ° environment variables
   - Troubleshooting Ğ´Ğ»Ñ dev

8. **[API_EXAMPLE.md](./API_EXAMPLE.md)** ğŸ’»
   - ĞŸÑ€Ğ¸Ğ¼ĞµÑ€Ñ‹ API Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ¾Ğ²
   - Authentication flow
   - Request/Response examples
   - Curl commands Ğ´Ğ»Ñ Ñ‚ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ

## ğŸ”‘ ĞšĞ»ÑÑ‡ĞµĞ²Ñ‹Ğµ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ñ

### Environment Variables

**Ğ‘Ñ‹Ğ»Ğ¾:**
```env
VITE_API_URL=http://localhost:3001/api
```

**Ğ¡Ñ‚Ğ°Ğ»Ğ¾:**
```env
VITE_API_BASE_URL=http://localhost:3001
```

### API Configuration

**Ğ‘Ñ‹Ğ»Ğ¾:** Ğ¥Ğ°Ñ€Ğ´ĞºĞ¾Ğ´ localhost
```typescript
const API_URL = 'http://localhost:3001/api';
```

**Ğ¡Ñ‚Ğ°Ğ»Ğ¾:** Ğ”Ğ¸Ğ½Ğ°Ğ¼Ğ¸Ñ‡ĞµÑĞºĞ°Ñ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ
```typescript
const API_URL = import.meta.env.VITE_API_BASE_URL + '/api';
```

### Production Setup

**Backend Vercel Environment Variables:**
```env
SUPABASE_URL=https://xxx.supabase.co
SUPABASE_SERVICE_ROLE_KEY=eyJ...
JWT_SECRET=...
FRONTEND_ORIGIN=https://your-frontend.vercel.app
```

**Frontend Vercel Environment Variables:**
```env
VITE_API_BASE_URL=https://backend-ten-bice-31.vercel.app
```

## ğŸ“Š ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  User Browser   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ HTTPS
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Frontend       â”‚  Vercel: your-app.vercel.app
â”‚  (React + Vite) â”‚  Env: VITE_API_BASE_URL
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ HTTPS + JWT
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Backend API    â”‚  Vercel: backend-ten-bice-31.vercel.app
â”‚  (NestJS)       â”‚  Env: SUPABASE_SERVICE_ROLE_KEY
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ Service Role Key
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Supabase       â”‚  Database, Auth, Storage
â”‚  Database       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ¯ Ğ§Ñ‚Ğ¾ Ğ½ÑƒĞ¶Ğ½Ğ¾ ÑĞ´ĞµĞ»Ğ°Ñ‚ÑŒ

### Ğ”Ğ»Ñ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹ Ğ² production:

1. **Backend:** Ğ£Ğ¶Ğµ Ñ€Ğ°Ğ·Ğ²ĞµÑ€Ğ½ÑƒÑ‚ Ğ½Ğ° `https://backend-ten-bice-31.vercel.app`
   - âœ… ĞšĞ¾Ğ´ Ğ³Ğ¾Ñ‚Ğ¾Ğ²
   - âš ï¸ ĞÑƒĞ¶Ğ½Ğ¾ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¸Ñ‚ÑŒ environment variables

2. **Frontend:** ĞÑƒĞ¶Ğ½Ğ¾ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¸Ñ‚ÑŒ Ğ¸ redeploy
   - âš ï¸ Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ `VITE_API_BASE_URL` Ğ² Vercel
   - âš ï¸ Redeploy Ğ¿Ğ¾ÑĞ»Ğµ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğ¹

3. **ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ:**
   - Network tab Ğ½Ğµ Ğ´Ğ¾Ğ»Ğ¶ĞµĞ½ Ğ¿Ğ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°Ñ‚ÑŒ localhost
   - Ğ’ÑĞµ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑÑ‹ Ğ´Ğ¾Ğ»Ğ¶Ğ½Ñ‹ Ğ¸Ğ´Ñ‚Ğ¸ Ğ½Ğ° backend.vercel.app
   - Login/Register Ğ´Ğ¾Ğ»Ğ¶Ğ½Ñ‹ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°Ñ‚ÑŒ

## âš¡ Ğ‘Ñ‹ÑÑ‚Ñ€Ğ°Ñ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ° (5 Ğ¼Ğ¸Ğ½ÑƒÑ‚)

```bash
# 1. Backend: Vercel Dashboard â†’ backend project
# Settings â†’ Environment Variables â†’ Add:
# SUPABASE_SERVICE_ROLE_KEY, JWT_SECRET, FRONTEND_ORIGIN

# 2. Frontend: Vercel Dashboard â†’ frontend project
# Settings â†’ Environment Variables â†’ Add:
VITE_API_BASE_URL=https://backend-ten-bice-31.vercel.app

# 3. Redeploy frontend
# Deployments â†’ Redeploy

# 4. ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ°
curl https://backend-ten-bice-31.vercel.app/api/health
# Ğ”Ğ¾Ğ»Ğ¶ĞµĞ½ Ğ²ĞµÑ€Ğ½ÑƒÑ‚ÑŒ: {"status":"ok",...}
```

## ğŸ†˜ ĞŸĞ¾Ğ¼Ğ¾Ñ‰ÑŒ

### Ğ•ÑĞ»Ğ¸ frontend Ğ½Ğµ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚:
1. ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑŒÑ‚Ğµ `VITE_API_BASE_URL` Ğ² Vercel
2. Redeploy frontend
3. Hard refresh Ğ±Ñ€Ğ°ÑƒĞ·ĞµÑ€Ğ°
4. Ğ¡Ğ¼. [`VERCEL_QUICK_FIX.md`](./VERCEL_QUICK_FIX.md)

### Ğ•ÑĞ»Ğ¸ backend Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰Ğ°ĞµÑ‚ 404:
1. ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑŒÑ‚Ğµ Root Directory = `backend`
2. ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑŒÑ‚Ğµ `backend/api/index.ts` ÑÑƒÑ‰ĞµÑÑ‚Ğ²ÑƒĞµÑ‚
3. Redeploy backend
4. Ğ¡Ğ¼. [`VERCEL_SETUP.md`](./VERCEL_SETUP.md) â†’ Troubleshooting

### Ğ•ÑĞ»Ğ¸ CORS error:
1. Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ¸Ñ‚Ğµ `FRONTEND_ORIGIN` Ğ² backend
2. Redeploy backend
3. Ğ¡Ğ¼. [`PRODUCTION_CHECKLIST.md`](./PRODUCTION_CHECKLIST.md)

## âœ… Success Criteria

ĞŸĞ¾ÑĞ»Ğµ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ Ğ² Network tab Ğ´Ğ¾Ğ»Ğ¶Ğ½Ğ¾ Ğ±Ñ‹Ñ‚ÑŒ:

```
âœ… POST https://backend-ten-bice-31.vercel.app/api/auth/login
âœ… GET  https://backend-ten-bice-31.vercel.app/api/auth/me
âœ… GET  https://backend-ten-bice-31.vercel.app/api/profiles/xxx
âŒ NO  http://localhost:3001/...
âŒ NO  Failed to fetch
```

## ğŸ“ Ğ§Ñ‚Ğ¾ Ğ´Ğ°Ğ»ÑŒÑˆĞµ

ĞŸĞ¾ÑĞ»Ğµ ÑƒÑĞ¿ĞµÑˆĞ½Ğ¾Ğ³Ğ¾ deployment:

1. âœ… ĞŸÑ€Ğ¾Ñ‚ĞµÑÑ‚Ğ¸Ñ€ÑƒĞ¹Ñ‚Ğµ Ğ²ÑĞµ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¸
2. âœ… ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑŒÑ‚Ğµ Network tab
3. âœ… ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹Ñ‚Ğµ monitoring
4. âœ… Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ¸Ñ€ÑƒĞ¹Ñ‚Ğµ production URLs
5. âœ… ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹Ñ‚Ğµ CI/CD (Ğ¾Ğ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾)

## ğŸ” Ğ‘ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾ÑÑ‚ÑŒ

- âœ… Service role key Ğ¢ĞĞ›Ğ¬ĞšĞ Ğ² backend
- âœ… Frontend ĞĞ• Ğ¸Ğ¼ĞµĞµÑ‚ Ğ¿Ñ€ÑĞ¼Ğ¾Ğ³Ğ¾ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ° Ğº Supabase
- âœ… Ğ’ÑĞµ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑÑ‹ Ñ‡ĞµÑ€ĞµĞ· backend API
- âœ… JWT authentication
- âœ… CORS Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ğ¾ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾ĞµĞ½

## ğŸ“ ĞšĞ¾Ğ½Ñ‚Ğ°ĞºÑ‚Ñ‹

Ğ•ÑĞ»Ğ¸ Ğ½ÑƒĞ¶Ğ½Ğ° Ğ¿Ğ¾Ğ¼Ğ¾Ñ‰ÑŒ:
1. ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑŒÑ‚Ğµ ÑĞ¾Ğ¾Ñ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²ÑƒÑÑ‰Ğ¸Ğ¹ .md Ñ„Ğ°Ğ¹Ğ» Ğ²Ñ‹ÑˆĞµ
2. ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑŒÑ‚Ğµ Vercel logs
3. ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑŒÑ‚Ğµ browser console
4. ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑŒÑ‚Ğµ Network tab

---

**Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°:** âœ… Ready for Production Deployment

**Ğ¢Ñ€ĞµĞ±ÑƒĞµÑ‚ÑÑ:** ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¸Ñ‚ÑŒ environment variables Ğ² Vercel Ğ¸ redeploy

**Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ:** ĞŸĞ¾Ğ»Ğ½Ğ°Ñ Ğ¸ Ğ°ĞºÑ‚ÑƒĞ°Ğ»ÑŒĞ½Ğ°Ñ
